var c=(e,s,t)=>{if(!s.has(e))throw TypeError("Cannot "+t)};var m=(e,s,t)=>(c(e,s,"read from private field"),t?t.call(e):s.get(e)),l=(e,s,t)=>{if(s.has(e))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(e):s.set(e,t)},g=(e,s,t,n)=>(c(e,s,"write to private field"),n?n.call(e,t):s.set(e,t),t);var d=(e,s,t)=>(c(e,s,"access private method"),t);import{F as f,a as _,b as F}from"./FilmCards-BpGFBp21.js";const r={genresList:document.querySelector(".genres__list"),genresMovies:document.querySelector(".genres__movies-list"),moreFilmsBox:document.querySelector(".genres__movies-more")};var i,a,u;class G extends f{constructor(t){super(t);l(this,a);l(this,i,void 0);this.page=1,this.genresId}async setCardsOnGenres(t){this.setGenresId(t),!d(this,a,u).call(this)&&(this.element.innerHTML="",this.resetPage(),this.setCardsOfFilms())}async setCardsOfFilms(){this.nextPage(),super.setCardsOfFilms(_,{genreId:this.genresId,page:this.page})}setGenresId(t){const n=t.dataset.genresId;g(this,i,this.genresId),this.genresId=n}nextPage(){this.page+=1}resetPage(){this.page=0}}i=new WeakMap,a=new WeakSet,u=function(){return m(this,i)===this.genresId};let h=new G(r.genresMovies);function I(e){const s=e.target.closest(".genres__item");s&&(h.setCardsOnGenres(s),r.moreFilmsBox.querySelector(".genres__bth-more")||v(),p(s))}let o="";function p(e){o!==e&&(o&&o.removeAttribute("active"),o=e,e.setAttribute("active",""))}function v(){r.moreFilmsBox.innerHTML='<button class="genres__bth-more">20 more movies</button>'}function L(){h.setCardsOfFilms()}async function O(){const t=(await F()).genres.map(n=>y(n));r.genresList.innerHTML=t.join("")}function y(e){const{id:s,name:t}=e;return`<li class="genres__item" data-genres-id="${s}">
            <p class="genres-item__text">${t}</p>
          </li>
  `}O();r.genresList.addEventListener("click",I);r.moreFilmsBox.addEventListener("click",L);
