var f=(e,s,t)=>{if(!s.has(e))throw TypeError("Cannot "+t)};var p=(e,s,t)=>(f(e,s,"read from private field"),t?t.call(e):s.get(e)),i=(e,s,t)=>{if(s.has(e))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(e):s.set(e,t)},G=(e,s,t,n)=>(f(e,s,"write to private field"),n?n.call(e,t):s.set(e,t),t);var r=(e,s,t)=>(f(e,s,"access private method"),t);import{S as T,F as O,a as M,b as S}from"./swiper-bundle-uG9oL2dI.js";new T(".swiper",{touchRation:.3,grabCursor:!0,mousewheel:{sensitivity:.35,eventsTarget:".swiper"},initialSlide:0,centeredSlides:!0,speed:5e3,observeSlideChildren:!0,observer:!0,observeParents:!0,slidesPerView:1,slidesPerGroup:2,autoHeight:!0,direction:"vertical",freeMode:!0});const b={genresTypesList:document.querySelector(".genres__list"),genresMoviesBlock:document.querySelector(".genres__movies")};var a,d,I,c,L,h,_,g,y,o,v,u,w,m,B;class E extends O{constructor(t){super(t);i(this,d);i(this,c);i(this,h);i(this,g);i(this,o);i(this,u);i(this,m);i(this,a,void 0);this.fatherElement=t,this.btn,this.page=1,this.genresId,this.isFirstTime=!0}async setCardsOnGenres(t){this.isFirstTime?this.isFirstTime=!1:r(this,h,_).call(this),this.setGenresId(t),!r(this,d,I).call(this)&&(this.listCardsEl.innerHTML="",this.resetPage(),await this.setCardsOfFilms(),r(this,c,L).call(this))}async setCardsOfFilms(){this.page!==0&&(r(this,g,y).call(this),r(this,u,w).call(this)),this.nextPage(),await super.setCardsOfFilms(M,{genreId:this.genresId,page:this.page}),this.page!==1&&(r(this,o,v).call(this),r(this,m,B).call(this))}setGenresId(t){const n=t.dataset.genresId;G(this,a,this.genresId),this.genresId=n}nextPage(){this.page+=1}resetPage(){this.page=0}}a=new WeakMap,d=new WeakSet,I=function(){return p(this,a)===this.genresId},c=new WeakSet,L=function(){this.fatherElement.insertAdjacentHTML("beforeend",'<button class="genres__bth-more">More movies</button>'),this.btn=document.querySelector(".genres__bth-more"),r(this,o,v).call(this)},h=new WeakSet,_=function(){this.btn.remove()},g=new WeakSet,y=function(){this.btn.removeEventListener("click",F)},o=new WeakSet,v=function(){this.btn.addEventListener("click",F)},u=new WeakSet,w=function(){this.btn.insertAdjacentHTML("beforeend",P())},m=new WeakSet,B=function(){this.btn.querySelector(".loader").remove()};function P(){return'<div class="loader"></div>'}let C=new E(b.genresMoviesBlock);function A(e){const s=e.target.closest(".genres__item");s&&(C.setCardsOnGenres(s),k(s))}let l="";function k(e){l!==e&&(l&&l.removeAttribute("active"),l=e,e.setAttribute("active",""))}function F(){C.setCardsOfFilms()}async function q(){const t=(await S()).genres.map(n=>H(n));b.genresTypesList.innerHTML=t.join("")}function H(e){const{id:s,name:t}=e;return`<li class="genres__item swiper-slide" data-genres-id="${s}">
            <button class="genres-item__btn">${t}</button>
          </li>
  `}q();b.genresTypesList.addEventListener("click",A);
