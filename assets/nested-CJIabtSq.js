var d=(e,s,t)=>{if(!s.has(e))throw TypeError("Cannot "+t)};var h=(e,s,t)=>(d(e,s,"read from private field"),t?t.call(e):s.get(e)),r=(e,s,t)=>{if(s.has(e))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(e):s.set(e,t)},u=(e,s,t,n)=>(d(e,s,"write to private field"),n?n.call(e,t):s.set(e,t),t);var a=(e,s,t)=>(d(e,s,"access private method"),t);import{F as _,a as v,b}from"./FilmCards-LYkN7Yff.js";const i={genresList:document.querySelector(".genres__list"),genresMovies:document.querySelector(".genres__movies-list"),moreFilmsBox:document.querySelector(".genres__movies-more")};var o,l,f,g,F,m,G;class L extends _{constructor(t,n){super(t);r(this,l);r(this,g);r(this,m);r(this,o,void 0);this.btnBox=n,this.page=1,this.genresId}async setCardsOnGenres(t){this.setGenresId(t),!a(this,l,f).call(this)&&(this.element.innerHTML="",this.resetPage(),this.setCardsOfFilms())}async setCardsOfFilms(){a(this,g,F).call(this),this.nextPage(),await super.setCardsOfFilms(v,{genreId:this.genresId,page:this.page}),a(this,m,G).call(this)}setGenresId(t){const n=t.dataset.genresId;u(this,o,this.genresId),this.genresId=n}nextPage(){this.page+=1}resetPage(){this.page=0}}o=new WeakMap,l=new WeakSet,f=function(){return h(this,o)===this.genresId},g=new WeakSet,F=function(){this.btnBox.innerHTML=""},m=new WeakSet,G=function(){this.btnBox.innerHTML='<button class="genres__bth-more">More movies</button>'};let I=new L(i.genresMovies,i.moreFilmsBox);function p(e){const s=e.target.closest(".genres__item");s&&(I.setCardsOnGenres(s),B(s))}let c="";function B(e){c!==e&&(c&&c.removeAttribute("active"),c=e,e.setAttribute("active",""))}function O(){I.setCardsOfFilms()}async function x(){const t=(await b()).genres.map(n=>y(n));i.genresList.innerHTML=t.join("")}function y(e){const{id:s,name:t}=e;return`<li class="genres__item" data-genres-id="${s}">
            <button class="genres-item__btn">${t}</button>
          </li>
  `}x();i.genresList.addEventListener("click",p);i.moreFilmsBox.addEventListener("click",O);
